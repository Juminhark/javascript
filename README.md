# Javascript

## web ì—­ì‚¬

- 1993 : Mosaic Web Browser
- 1994 : Netscape Navigator (Mosaic ê°œë°œíŒ€ì„ ì´ëŒë˜ Marc Andreessenì´ Netscape ì„¤ë¦½)
  - html, cssë¡œ ë§Œë“  webì„ linkë¡œ ì´ë™. uiìš”ì†Œë¡œ ì •ë¦¬ëœ ì •ì ì¸ web.
- Dom ìš”ì†Œë¥¼ ì¡°ì‘í•˜ëŠ” Scripting ì–¸ì–´ë¥¼ ì¶”ê°€í•˜ì—¬ ë™ì ì¸ web idea.
- 1994.10 : Mochaë¡œ ë¶ˆë ¸ë˜ LiveScript
  - (Netscape Navigatorì•ˆì—ëŠ” LiveScriptë¥¼ ì´í•´í•˜ê³  ì‹¤í–‰í•˜ëŠ” LiveScript Engine : InterPreterí¬í•¨)
  - ë‹¹ì‹œ ì¸ê¸°ìˆì—ˆë˜ javaì˜ ì´ë¦„ì„ ë°°ê»´ LiveScript -> JavaScriptë¡œ ë³€ê²½.
- 1995 : Microsoftì—ì„œ JavaScriptë¥¼ Reverse engineering(binary codeë¥¼ ë¶„ì„í•˜ì—¬ source codeë¥¼ ë³µì›) : JScript ì–¸ì–´ë¥¼ ë§Œë“¬.
- 1995 : Microsoft : Internet Explorer ì¶œì‹œ
- 1996 : Netscape Navigator(Javascript), Internet Explorer(JScript) ë‘ browserì—ì„œ ì˜ ì‘ë™í•˜ë„ë¡ ë§Œë“¤ì–´ì•¼í–ˆë‹¤.
- 1997 : Netscape JavaScriptë¥¼ ECMA Internationalë¥¼ í†µí•´ í‘œì¤€í™”.

## ë²„ì ¼

- ECMAScript 1 (1997)
- ECMAScript 2 (1998)
- ECMAScript 3 (1999)
  - 1. error handling
  - 2. three equal operator (===)
- ECMAScript 4 (2000) : 95% userê°€ Internet Explorer ì‚¬ìš© => ESë°œì „ì„ ì°¨ìš©í•  ì—”ì§„ì˜ ê°œë°œì„ ë©ˆì¶¤

  - 1. optional type annotation
  - 2. Enterprise scale

- Netscape Navigator(Netscape), Internet Explorer(Microsoft), Firefox(mozilla) ì˜ ê³µì¡´ìœ¼ë¡œ í‘œì¤€í™”ê°€ ì§„í–‰ë˜ì§€ì•ŠìŒ.
- 2004 : AJAX(Asynchronous JavaScript and XML, Jesse James Garrett)

  - [ì›¹í˜ì´ì§€ë¥¼ ë¦¬ë¡œë“œí•˜ì§€ ì•Šê³  serverì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹.](https://coding-factory.tistory.com/143)

- jQuery : APIs (ë‹¤ì–‘í•œ browserì„ ëŒ€ì‘í•˜ê¸° ìœ„í•œ ìˆ˜ë‹¨.)

- ECMAScript 5 (2009) : chrome-JIT(just-in-time compilation)ì—”ì§„ ë“±ì¥ìœ¼ë¡œ ë¸Œë¼ìš°ì €ì˜ ì„±ëŠ¥ê°œì„ . => í‘œì¤€í™” í•„ìš”
  - 1. ë°°ì—´ì— forEach, map, filter, reduce, some, everyì™€ ê°™ì€ ë©”ì†Œë“œ ì§€ì›
  - 2. Objectì— ëŒ€í•œ getter / setter ì§€ì›
  - 3. ìë°”ìŠ¤í¬ë¦½íŠ¸ strict ëª¨ë“œ ì§€ì›
  - 4. JSON ì§€ì› ( ê³¼ê±°ì—ëŠ” XMLì„ ì‚¬ìš©í•˜ë‹¤ê°€, jsonì´ ëœ¨ë©´ì„œ ì§€ì›í•˜ê²Œ ë¨ )
- ECMAScript 6 (2015) : ìš°ë¦¬ê°€ í”íˆ ë§í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸.
  - 1. class
  - 2. let, const í‚¤ì›Œë“œ ì¶”ê°€
  - 3. arrow functionë¬¸ë²• ì§€ì›
  - 4. iterator / generator ì¶”ê°€
  - 5. module import / export ì¶”ê°€
  - 6. Promise ë„ì…
  - 7. default parameter
- ECMAScript 7 (2016)
- ECMAScript 8 (2017)
  - 1. async / await
- ECMAScript 9 (2018)
- ECMAScript 10 (2019)

- ë‹¤ì–‘í•œ ì—”ì§„ Chrome(V8), Firefox(SpiderMonkey), Safari(JSCore), MS Edge(Chakra) ë“±.
- Chrome(V8)ì€ nodeJS, electron ì—ì„œë„ ì´ìš©.

- TypeScript

## ê°œë°œ í™˜ê²½

- ìµœì‹  ES í™˜ê²½ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê°œë°œìë“¤ì„ ìœ„í•´ BABEL ë“±ì¥
- BABEL : TypeScript, ìµœì‹  ES => ES5, ES6ë¡œ ë³€í™˜(Javascript transcompiler)

## ìµœê·¼ ë™í–¥

- SPA(Single Page Application) : 1ê°œì˜ í˜ì´ì§€ ì•ˆì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ í•„ìš”í•œ ì •ë³´ë§Œ ì—…ë°ì´íŠ¸
- SPAë¥¼ ì‰½ê²Œ í•˜ê¸° ìœ„í•´ React, Angular, Vue ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬, í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©.

## ì´ìš© ë¶„ì•¼

- back-end : node.js => deno ì‘ë…„.
- javascript => web => server (ES => server í‘œì¤€í™” => CommonJS)
- mobile : react-native
- desktop application : electron

## ëœ¨ê³  ìˆëŠ” ê¸°ìˆ 

- web assembly : ë¸Œë¼ìš°ì €ì—ì„œ ë™ì‘ê°€ëŠ¥í•œ ìœ ì¼í•œ ì–¸ì–´ javascriptì˜ ëŒ€ì²´ì¬. ë„¤ì´í‹°ë¸Œì— ê°€ê¹Œìš´ ì €ìˆ˜ì¤€ ì–´ì…ˆë¸”ë¦¬ ì–¸ì–´. C/C++, Rust ë“±ê³¼ ê°™ì€ ì–¸ì–´ì˜ ì»´íŒŒì¼ íƒ€ê²Ÿ. JavaScriptì™€ í•¨ê»˜ ì‹¤í–‰ë˜ë©° ì„œë¡œë¥¼ ë³´ì™„í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„.

## tutorial ìˆœì„œ

- 1. helloWorld
- 2. variables
- 3. concatenation
- 4. dataTypes
- 5. prompt, confirm
- 6. conversion
- 7. operators

## require vs import (CommonJsì™€ ES6)

- ES6ëŠ” Javascript í‘œì¤€í™”. CommonJSëŠ” ì„œë²„ì‚¬ì´ë“œì—ì„œ ë²”ìš©í™”ë¥¼ ìœ„í•œ í‘œì¤€í™”.

- ES6

```ts
// ëª¨ë“ˆ ì „ì²´ë¥¼ export, íŒŒì¼ë‚´ í•œë²ˆë§Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.
var module = {

};
export default module

// ëª¨ë“  ì†ì„±ì„ export
export *;

// í•¨ìˆ˜ë¥¼ ì§ì ‘ export
export function moduleFunc() {};

var property = "some property";
export {property};

// ëª¨ë“ˆ ì „ì²´ë¥¼ import
import module
import module as myModule

// ëª¨ë“  ì†ì„± import
import * from module

// íŠ¹ì • ë©¤ë²„(í•¨ìˆ˜ ë“±)ë§Œ import
import {moduleFunc, moduleFunc2} from module
```

- CommonJS

```ts
// ëª¨ë“ˆ ì „ì²´ë¥¼ export
module.exports = module;

// í•¨ìˆ˜ë¥¼ ì§ì ‘ export
exports.moduleFunc = function () {};

// ëª¨ë“ˆ ì „ì²´ë¥¼ import
var module = require('./someModule.js');

// ëª¨ë“  ì†ì„± import
// (ìœ„ì˜ module ê°ì²´ì— ëª¨ë“  ì†ì„±ì´ ë‹´ì•„ì ¸ ì˜¨ë‹¤.)

// íŠ¹ì • ë©¤ë²„(í•¨ìˆ˜ ë“±)ë§Œ import, ìœ„ì˜ moduleì„ ì´ìš©í•œë‹¤.
module.moduleFunc;
```

- **ì™ ë§Œí•˜ë©´ CommonJS ì‚¬ìš©.**

```ts
// Do this.
import * as example from 'example';
example.fn();

// Don't do this.
// import { fn } from 'example';
// fn();
```

## [Guard Clauses](https://blog.fakecoding.com/archives/guard-clause/)

- ë³€ìˆ˜ì˜ ì„ ì–¸ ë° í• ë‹¹, íŒŒë¼ë¯¸í„°ì˜ ìœ íš¨ì„±, ì°¸ì¡°í•˜ëŠ” ê°ì²´ì˜ ì˜¬ë°”ë¥¸ ìƒì„± ë“± ì¡°ê±´ì„ ì²´í¬í•˜ëŠ” ê²½ìš°
- ë³´í¸ì ìœ¼ë¡œ if.. else.. ì¡°ê±´ë¬¸ì´ë‚˜ switch case ì¡°ê±´ë¬¸ë“±ì„ í™œìš©í•´ì„œ ì²˜ë¦¬
- ì¡°ê±´ë¬¸ì˜ ì¤‘ì²©ì´ ê¹Šì–´ì§ˆìˆ˜ë¡ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ê³  ì ì°¨ ì¶”í›„ ìœ ì§€ë³´ìˆ˜ì— í° ê±¸ë¦¼ëŒì´ ëœë‹¤
- ì¤‘ì²©ëœ ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•  í•„ìš”ê°€ì—†ëŠ” ê²½ìš° guard clauseë¡œ ì²˜ë¦¬í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤

- Guard Clausesë€? ì‚¬ì „ ì¡°ê±´ì´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ê¸° ìœ„í•œ ì˜¬ë°”ë¥¸ ì‹¤í–‰ ì¡°ê±´ì´ ì•„ë‹ˆë¼ë©´) ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•˜ì—¬ ë”ì´ìƒ ë‹¤ìŒ ë‹¨ê³„ê°€ ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ”ê²ƒ

```js
// if.. else
function doUserCoinMinus(user) {
  if (user != null) {
    if (user?.grant == null) {
      if (user?.coin < 100) {
        user.coin -= 1000;
        return true;
      } else {
        throw new Exception('ë³´ìœ í•œ ì ë¦½ê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.');
      }
    } else {
      throw new Exception('í•´ë‹¹ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');
    }
  } else {
    throw new Exception('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
  }
}

// guard
function doUserCoinMinus(user) {
  if (user == null) {
    throw new Exception('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
  }
  if (user?.grant == null) {
    throw new Exception('í•´ë‹¹ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');
  }
  if (user?.coin < 1000) {
    throw new Exception('ë³´ìœ í•œ ì ë¦½ê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.');
  }

  user.coin -= 1000;
}
```

- Why I Don't Use Else When Programming

```js
//? [Guard Clauses](https://blog.fakecoding.com/archives/guard-clause/)

//! ğŸ‘ : Single return  is bad
function canDrink(person) {
  if (person?.age != null) {
    if (person.age < 18) {
      console.log('Nope !');
    } else if (person.age < 21) {
      console.log('not in us !');
    } else {
      console.log('yes !');
    }
  } else {
    console.log('You are not a person');
  }

  return 1;
}

const p = {
  age: 22,
};

canDrink(p);

//? ğŸ‘
function canDrinkBetter(person) {
  if (person?.age == null) {
    console.log('You are not a person');
    return;
  }

  if (person.age < 18) {
    console.log('Nope !');
    return;
  }

  if (person.age < 21) {
    console.log('not in us !');

    return;
  }

  console.log('yes !');
}

canDrinkBetter(p);

//? ğŸ‘ğŸ‘ : ExtractFunction
function canDrinkBest(person) {
  if (person?.age == null) {
    console.log('You are not a person');
    return;
  }

  let result = canDrinkResponse(person.age);

  console.log(result);
}

function canDrinkResponse(age) {
  if (age < 18) return 'Nope !';
  if (age < 21) return 'not in us !';
  return 'yes !';
}

canDrinkBest(p);
```

## [Function.prototype.bind()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Function/bind)

```js
positionMatch.bind(null, position))

// .bind() ì˜ ì²«ë²ˆì§¸ ì¸ìì— ê°’ì„ ëŒ€ì…í•˜ë©° ì§„í–‰

```

## don`t write long functions : ê°€ë…ì„±ì˜ ë¬¸ì œ

```js
const axios = require("axios")

const apiInstance = axios.create({
  baseURL: 'https://locallhost:5000'
  headers: {"api-key": process.env.SEND_IN_BLUE_API_KEY}
})

//! ğŸ‘ : #region Original
async function linkContactAndItem(email, {listId}) {
  // 1. Get Contact
  // 2.1. if contact exists then update
  // 2.2 I no contact then create
  const contact = await apiInstance
    .get(`contacts/${emailOrId}`)
    .then(res => res.data)
    .catch(e => {
      if(e.response.status === 404) return null
      throw e
    })

    if(contact == null) {
      return apiInstance.post("contacts", {
        email,
        listIds : [listId],
      })
    } else {
      return apiInstance.put(`contacts/${emailOrId}`, {
        listIds: [newListId],
      })
    }
}
// #endregion


//? ğŸ‘ğŸ‘ #region small functions
async function linkContactAndItem(email, {listId}) {
  const contact = await getContact(email)

  if(contact == null) {
    return createContact(email, listId)
  }
  return updateContact(contact.id, listId)
}


function createContact(email, listId) {
  return apiInstance.post("contacts", {
    email,
    listIds : [listId],
  })
}

function updateContact(emailOrId, newListId) {
  return apiInstance.put(`contacts/${emailOrId}`, {
    listIds: [newListId],
  })
}

function getContact(emailOrId) {
  return apiInstance
    .get(`contacts/${emailOrId}`)
    .then(res => res.data)
    .catch(e => {
      if(e.response.status === 404) return null
      throw e
    })
}
// #endregion
```

## [function.bind()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Function/bind)

## [Optional chaining](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Optional_chaining)

## [function.ceil()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil)

# Reference

- [JavaScript ì•ˆë‚´ì„œ](https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide)
- [ì½”ì–´ ìë°”ìŠ¤í¬ë¦½íŠ¸](https://ko.javascript.info/js)
- [ë“œë¦¼ì½”ë”© by ì—˜ë¦¬ - ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ì´ˆ ê°•ì˜](https://www.youtube.com/watch?v=wcsVjmHrUQg&list=PLv2d7VI9OotTVOL4QmPfvJWPJvkmv6h-2&index=1)
- [js_server-nodeJS](https://nodejs.org/docs/latest-v13.x/api/console.html)

- [ë“œë¦¼ì½”ë”© by ì—˜ë¦¬ JS ê°•ì˜](https://www.youtube.com/watch?v=wcsVjmHrUQg&list=PLv2d7VI9OotTVOL4QmPfvJWPJvkmv6h-2&index=1)

- [ë“œë¦¼ì½”ë”© by ì—˜ë¦¬ JS ê°•ì˜ ì •ë¦¬](https://www.notion.so/07dfed016e914c3a8612fc76dd1542f0?v=c6feaeb5b46e4fdeb1e756113cb529c1)
